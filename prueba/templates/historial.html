<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mis Pedidos - VanseBook</title>
    <link rel="icon" type="image/favicon.ico" href="../static/img/favicon/favicon.ico">
    <link rel="stylesheet" href="../static/css/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <nav class="nav">
            <div class="nav-brand">
                <i class="fas fa-book-open"></i>
                <span>VanseBook</span>
            </div>
            <div class="nav-actions">
                <div class="search-container">
                    <input type="text" placeholder="Buscar libros..." class="search-input">
                    <button class="search-btn">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
                <button class="btn-icon" id="wishlistBtn">
                    <i class="fas fa-heart"></i>
                    <span class="icon-badge">0</span>
                </button>
                <button class="btn-icon" id="cartBtn">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="icon-badge">0</span>
                </button>
                <div class="user-menu">
                    <button class="btn btn-secondary" id="userBtn">
                        <i class="fas fa-user"></i>
                        Mi Cuenta
                    </button>
                    <div class="user-dropdown">
                        <a href="profile.html" class="dropdown-item">
                            <i class="fas fa-user-edit"></i>
                            Perfil
                        </a>
                        <a href="orders.html" class="dropdown-item active">
                            <i class="fas fa-clipboard-list"></i>
                            Mis Pedidos
                        </a>
                        <a href="addresses.html" class="dropdown-item">
                            <i class="fas fa-address-book"></i>
                            Direcciones
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-item logout">
                            <i class="fas fa-sign-out-alt"></i>
                            Cerrar Sesión
                        </a>
                    </div>
                </div>
            </div>
            <div class="hamburger">
                <i class="fas fa-bars"></i>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="orders-main">
        <div class="container">
            <!-- Breadcrumb -->
            <nav class="breadcrumb">
                <a href="index.html">Inicio</a>
                <i class="fas fa-chevron-right"></i>
                <a href="profile.html">Mi Cuenta</a>
                <i class="fas fa-chevron-right"></i>
                <span>Mis Pedidos</span>
            </nav>

            <!-- Page Header -->
            <div class="page-header">
                <div class="header-content">
                    <h1>Mis Pedidos</h1>
                    <p>Gestiona y revisa el historial de tus compras</p>
                </div>
                <div class="header-actions">
                    <button class="btn btn-secondary" id="downloadInvoiceBtn">
                        <i class="fas fa-file-download"></i>
                        Descargar Facturas
                    </button>
                </div>
            </div>

            <!-- Filters and Stats -->
            <div class="orders-overview">
                <div class="stats-cards">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-shopping-bag"></i>
                        </div>
                        <div class="stat-info">
                            <span class="stat-number">12</span>
                            <span class="stat-label">Total de Pedidos</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon pending">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="stat-info">
                            <span class="stat-number">2</span>
                            <span class="stat-label">Pendientes</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon delivered">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="stat-info">
                            <span class="stat-number">8</span>
                            <span class="stat-label">Entregados</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon cancelled">
                            <i class="fas fa-times-circle"></i>
                        </div>
                        <div class="stat-info">
                            <span class="stat-number">2</span>
                            <span class="stat-label">Cancelados</span>
                        </div>
                    </div>
                </div>

                <div class="filters-toolbar">
                    <div class="filter-group">
                        <label for="statusFilter">Filtrar por estado:</label>
                        <select id="statusFilter">
                            <option value="all">Todos los estados</option>
                            <option value="pending">Pendiente</option>
                            <option value="processing">Procesando</option>
                            <option value="shipped">Enviado</option>
                            <option value="delivered">Entregado</option>
                            <option value="cancelled">Cancelado</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="dateFilter">Filtrar por fecha:</label>
                        <select id="dateFilter">
                            <option value="all">Todo el tiempo</option>
                            <option value="30">Últimos 30 días</option>
                            <option value="90">Últimos 3 meses</option>
                            <option value="365">Último año</option>
                            <option value="custom">Personalizado</option>
                        </select>
                    </div>
                    <div class="search-orders">
                        <input type="text" placeholder="Buscar por número de pedido..." id="orderSearch">
                        <button class="search-btn">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Orders List -->
            <div class="orders-list">
                <!-- Order 1 - Entregado -->
                <div class="order-card delivered">
                    <div class="order-header">
                        <div class="order-info">
                            <div class="order-number">
                                <strong>Pedido #VS-2024-7890</strong>
                                <span class="order-date">Realizado el 15 Ene, 2024</span>
                            </div>
                            <div class="order-total">
                                <strong>Total: $108.600</strong>
                                <span class="items-count">3 productos</span>
                            </div>
                        </div>
                        <div class="order-status">
                            <span class="status-badge delivered">
                                <i class="fas fa-check-circle"></i>
                                Entregado
                            </span>
                            <span class="delivery-date">Entregado el 18 Ene, 2024</span>
                        </div>
                    </div>

                    <div class="order-items">
                        <div class="order-item">
                            <div class="item-image">
                                <img src="https://images.unsplash.com/photo-1544947950-fa07a98d237f?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80" alt="El Jardín de los Secretos">
                            </div>
                            <div class="item-details">
                                <h4 class="item-title">El Jardín de los Secretos</h4>
                                <span class="item-author">María González</span>
                                <span class="item-quantity">Cantidad: 1</span>
                            </div>
                            <div class="item-price">$24.900</div>
                        </div>

                        <div class="order-item">
                            <div class="item-image">
                                <img src="https://images.unsplash.com/photo-1532012197267-da84d127e765?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80" alt="Cosmos Revisitado">
                            </div>
                            <div class="item-details">
                                <h4 class="item-title">Cosmos Revisitado</h4>
                                <span class="item-author">Carlos Mendoza</span>
                                <span class="item-quantity">Cantidad: 1</span>
                            </div>
                            <div class="item-price">$31.500</div>
                        </div>

                        <div class="order-item">
                            <div class="item-image">
                                <img src="https://images.unsplash.com/photo-1512820790803-83ca734da794?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80" alt="El Arte de la Persuasión">
                            </div>
                            <div class="item-details">
                                <h4 class="item-title">El Arte de la Persuasión</h4>
                                <span class="item-author">Ana López</span>
                                <span class="item-quantity">Cantidad: 2</span>
                            </div>
                            <div class="item-price">$57.400</div>
                        </div>
                    </div>

                    <div class="order-actions">
                        <button class="btn btn-secondary btn-small view-details">
                            <i class="fas fa-eye"></i>
                            Ver Detalles
                        </button>
                        <button class="btn btn-secondary btn-small track-order">
                            <i class="fas fa-truck"></i>
                            Seguir Envío
                        </button>
                        <button class="btn btn-secondary btn-small download-invoice">
                            <i class="fas fa-file-invoice"></i>
                            Factura
                        </button>
                        <button class="btn btn-primary btn-small reorder">
                            <i class="fas fa-redo"></i>
                            Volver a Comprar
                        </button>
                    </div>
                </div>

                <!-- Order 2 - Enviado -->
                <div class="order-card shipped">
                    <div class="order-header">
                        <div class="order-info">
                            <div class="order-number">
                                <strong>Pedido #VS-2024-7885</strong>
                                <span class="order-date">Realizado el 12 Ene, 2024</span>
                            </div>
                            <div class="order-total">
                                <strong>Total: $79.900</strong>
                                <span class="items-count">2 productos</span>
                            </div>
                        </div>
                        <div class="order-status">
                            <span class="status-badge shipped">
                                <i class="fas fa-shipping-fast"></i>
                                Enviado
                            </span>
                            <span class="delivery-date">Estimado: 20 Ene, 2024</span>
                        </div>
                    </div>

                    <div class="order-items">
                        <div class="order-item">
                            <div class="item-image">
                                <img src="https://images.unsplash.com/photo-1481627834876-b7833e8f5570?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80" alt="Habitos Atomicos">
                            </div>
                            <div class="item-details">
                                <h4 class="item-title">Habitos Atomicos</h4>
                                <span class="item-author">James Clear</span>
                                <span class="item-quantity">Cantidad: 1</span>
                            </div>
                            <div class="item-price">$26.900</div>
                        </div>

                        <div class="order-item">
                            <div class="item-image">
                                <img src="https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80" alt="Psicología Oscura">
                            </div>
                            <div class="item-details">
                                <h4 class="item-title">Psicología Oscura</h4>
                                <span class="item-author">Steven Turner</span>
                                <span class="item-quantity">Cantidad: 1</span>
                            </div>
                            <div class="item-price">$22.500</div>
                        </div>
                    </div>

                    <div class="shipping-info">
                        <div class="shipping-header">
                            <i class="fas fa-truck"></i>
                            <strong>Información de Envío</strong>
                        </div>
                        <div class="shipping-details">
                            <span>Transportista: Servientrega</span>
                            <span>N° de Guía: ST-789456123</span>
                            <a href="#" class="tracking-link">Rastrear envío</a>
                        </div>
                    </div>

                    <div class="order-actions">
                        <button class="btn btn-secondary btn-small view-details">
                            <i class="fas fa-eye"></i>
                            Ver Detalles
                        </button>
                        <button class="btn btn-primary btn-small track-order">
                            <i class="fas fa-truck"></i>
                            Seguir Envío
                        </button>
                        <button class="btn btn-secondary btn-small download-invoice">
                            <i class="fas fa-file-invoice"></i>
                            Factura
                        </button>
                    </div>
                </div>

                <!-- Order 3 - Procesando -->
                <div class="order-card processing">
                    <div class="order-header">
                        <div class="order-info">
                            <div class="order-number">
                                <strong>Pedido #VS-2024-7878</strong>
                                <span class="order-date">Realizado el 10 Ene, 2024</span>
                            </div>
                            <div class="order-total">
                                <strong>Total: $45.800</strong>
                                <span class="items-count">1 producto</span>
                            </div>
                        </div>
                        <div class="order-status">
                            <span class="status-badge processing">
                                <i class="fas fa-cog"></i>
                                Procesando
                            </span>
                            <span class="delivery-date">Preparando tu pedido</span>
                        </div>
                    </div>

                    <div class="order-items">
                        <div class="order-item">
                            <div class="item-image">
                                <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80" alt="El Principito">
                            </div>
                            <div class="item-details">
                                <h4 class="item-title">El Principito</h4>
                                <span class="item-author">Antoine de Saint-Exupéry</span>
                                <span class="item-quantity">Cantidad: 1</span>
                                <span class="item-variant">Edición Especial</span>
                            </div>
                            <div class="item-price">$45.800</div>
                        </div>
                    </div>

                    <div class="order-progress">
                        <div class="progress-steps">
                            <div class="step completed">
                                <div class="step-icon">
                                    <i class="fas fa-check"></i>
                                </div>
                                <span class="step-label">Confirmado</span>
                            </div>
                            <div class="step active">
                                <div class="step-icon">
                                    <i class="fas fa-cog"></i>
                                </div>
                                <span class="step-label">Procesando</span>
                            </div>
                            <div class="step">
                                <div class="step-icon">
                                    <i class="fas fa-shipping-fast"></i>
                                </div>
                                <span class="step-label">Enviado</span>
                            </div>
                            <div class="step">
                                <div class="step-icon">
                                    <i class="fas fa-home"></i>
                                </div>
                                <span class="step-label">Entregado</span>
                            </div>
                        </div>
                    </div>

                    <div class="order-actions">
                        <button class="btn btn-secondary btn-small view-details">
                            <i class="fas fa-eye"></i>
                            Ver Detalles
                        </button>
                        <button class="btn btn-secondary btn-small cancel-order">
                            <i class="fas fa-times"></i>
                            Cancelar Pedido
                        </button>
                        <button class="btn btn-secondary btn-small contact-support">
                            <i class="fas fa-headset"></i>
                            Soporte
                        </button>
                    </div>
                </div>

                <!-- Order 4 - Pendiente -->
                <div class="order-card pending">
                    <div class="order-header">
                        <div class="order-info">
                            <div class="order-number">
                                <strong>Pedido #VS-2024-7870</strong>
                                <span class="order-date">Realizado el 8 Ene, 2024</span>
                            </div>
                            <div class="order-total">
                                <strong>Total: $92.400</strong>
                                <span class="items-count">4 productos</span>
                            </div>
                        </div>
                        <div class="order-status">
                            <span class="status-badge pending">
                                <i class="fas fa-clock"></i>
                                Pendiente de Pago
                            </span>
                            <span class="delivery-date">Esperando confirmación</span>
                        </div>
                    </div>

                    <div class="order-items">
                        <div class="order-item">
                            <div class="item-image">
                                <img src="https://images.unsplash.com/photo-1516979187457-637abb4f9353?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80" alt="Cien Años de Soledad">
                            </div>
                            <div class="item-details">
                                <h4 class="item-title">Cien Años de Soledad</h4>
                                <span class="item-author">Gabriel García Márquez</span>
                                <span class="item-quantity">Cantidad: 1</span>
                            </div>
                            <div class="item-price">$38.900</div>
                        </div>

                        <div class="order-item">
                            <div class="item-image">
                                <img src="https://images.unsplash.com/photo-1558901357-ca41e027e43a?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80" alt="El Alquimista">
                            </div>
                            <div class="item-details">
                                <h4 class="item-title">El Alquimista</h4>
                                <span class="item-author">Paulo Coelho</span>
                                <span class="item-quantity">Cantidad: 1</span>
                            </div>
                            <div class="item-price">$28.500</div>
                        </div>
                    </div>

                    <div class="payment-pending">
                        <div class="payment-alert">
                            <i class="fas fa-exclamation-circle"></i>
                            <div class="alert-content">
                                <strong>Pago Pendiente</strong>
                                <span>Completa tu pago para procesar el pedido</span>
                            </div>
                        </div>
                        <div class="payment-actions">
                            <button class="btn btn-primary btn-small complete-payment">
                                <i class="fas fa-credit-card"></i>
                                Completar Pago
                            </button>
                            <button class="btn btn-secondary btn-small cancel-order">
                                <i class="fas fa-times"></i>
                                Cancelar
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Order 5 - Cancelado -->
                <div class="order-card cancelled">
                    <div class="order-header">
                        <div class="order-info">
                            <div class="order-number">
                                <strong>Pedido #VS-2024-7865</strong>
                                <span class="order-date">Realizado el 5 Ene, 2024</span>
                            </div>
                            <div class="order-total">
                                <strong>Total: $67.300</strong>
                                <span class="items-count">2 productos</span>
                            </div>
                        </div>
                        <div class="order-status">
                            <span class="status-badge cancelled">
                                <i class="fas fa-times-circle"></i>
                                Cancelado
                            </span>
                            <span class="delivery-date">Cancelado el 6 Ene, 2024</span>
                        </div>
                    </div>

                    <div class="order-items">
                        <div class="order-item">
                            <div class="item-image">
                                <img src="https://images.unsplash.com/photo-1531346791815-9d85b7d2f5b0?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80" alt="1984">
                            </div>
                            <div class="item-details">
                                <h4 class="item-title">1984</h4>
                                <span class="item-author">George Orwell</span>
                                <span class="item-quantity">Cantidad: 1</span>
                            </div>
                            <div class="item-price">$32.800</div>
                        </div>

                        <div class="order-item">
                            <div class="item-image">
                                <img src="https://images.unsplash.com/photo-1589998059171-988d887df646?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80" alt="Un Mundo Feliz">
                            </div>
                            <div class="item-details">
                                <h4 class="item-title">Un Mundo Feliz</h4>
                                <span class="item-author">Aldous Huxley</span>
                                <span class="item-quantity">Cantidad: 1</span>
                            </div>
                            <div class="item-price">$34.500</div>
                        </div>
                    </div>

                    <div class="cancellation-reason">
                        <strong>Razón de cancelación:</strong> Pedido duplicado
                    </div>

                    <div class="order-actions">
                        <button class="btn btn-secondary btn-small view-details">
                            <i class="fas fa-eye"></i>
                            Ver Detalles
                        </button>
                        <button class="btn btn-primary btn-small reorder">
                            <i class="fas fa-redo"></i>
                            Volver a Comprar
                        </button>
                    </div>
                </div>
            </div>

            <!-- Pagination -->
            <div class="pagination">
                <button class="pagination-btn disabled">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <button class="pagination-btn active">1</button>
                <button class="pagination-btn">2</button>
                <button class="pagination-btn">3</button>
                <span class="pagination-ellipsis">...</span>
                <button class="pagination-btn">5</button>
                <button class="pagination-btn">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>

            <!-- Empty State (Hidden by default) -->
            <div class="empty-orders" id="emptyOrders" style="display: none;">
                <div class="empty-content">
                    <i class="fas fa-clipboard-list"></i>
                    <h2>No tienes pedidos aún</h2>
                    <p>Descubre nuestra colección y encuentra tu próxima lectura favorita</p>
                    <a href="catalog.html" class="btn btn-primary">
                        <i class="fas fa-book-open"></i>
                        Explorar Catálogo
                    </a>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; <span id="currentYear"></span> VanseBook. Todos los derechos reservados.</p>
        </div>
    </footer>

    <!-- Order Details Modal -->
    <div class="modal" id="orderDetailsModal" style="display: none;">
        <div class="modal-content large">
            <span class="close-modal">&times;</span>
            <div class="modal-header">
                <h2>Detalles del Pedido #VS-2024-7890</h2>
                <span class="order-status-badge delivered">Entregado</span>
            </div>
            <div class="modal-body">
                <!-- Los detalles del pedido se cargarán aquí dinámicamente -->
            </div>
        </div>
    </div>

    <script src="../static/js/historial.js"></script>
</body>
</html>